<!DOCTYPE html>
<html lang="en">
<head>
  <title>Propertz</title>
  <link rel="stylesheet" href="C:\Users\ins1r\OneDrive\Desktop\pt\style.css">
</head>
<body>
  <!--navigation bar-->
  <nav>
    <h1>Propertz</h1>
    <ul>
      <li><a href="index.html"><strong>Home |</strong></a></li>
      <li><a href="reviews.html"><strong>Reviews |</strong></a></li>
      <li><a href="about.html"><strong>About Us |</strong></a></li>
      <li><a href="sign up.html"><strong>Sign Up |</strong></a></li>
      <li><a href="login.html"><strong>Log in |</strong></a></li>
    </ul>
  </nav>
<div class="container" id="containers">
  <div class="form-container log-in-containers">
    <center>
        <h1>Propertz.com</h1>
    </center>
      
        <h2>Log in </h2>
        <br>
        
        <input type="email" id="email" name="email" placeholder="Email"/>
        <input type="password" id="password" name="password" placeholder="Password"/>
        
        <br>
        <input type="submit" id="logi" name="login" value="Login"/>       
      
  </div>
</div>


</center>

</body>
<script type="module">
// Import the functions you need from the SDKs you need
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-app.js";
import { getDatabase, set, ref, Update } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-database.js";
import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-auth.js";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
apiKey: "AIzaSyCGDBIL8uCwagPgUDvP0181XoPSfJu95O4",
authDomain: "online-property-manageme-6a435.firebaseapp.com",
databaseURL: "https://online-property-manageme-6a435-default-rtdb.firebaseio.com",
projectId: "online-property-manageme-6a435",
storageBucket: "online-property-manageme-6a435.appspot.com",
messagingSenderId: "500323407850",
appId: "1:500323407850:web:2827214e0048ba7ac14493",
measurementId: "G-48HVP4085C"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const database = getDatabase(app);
const auth = getAuth();


logi.addEventListener('click',(e) => {
  var email = document.getElementById('email').value;
  var password = document.getElementById('password').value;
  signInWithEmailAndPassword(auth, email, password)
  .then((userCredential) => {
    // Signed in 
    const user = userCredential.user;
    const dt = new Date();
    update(ref(database,'/users' + user.uid),{
      last_login: dt,
    })
    // ...
    alert('user logged in !');
  })
  .catch((error) => {
    const errorCode = error.code;
    const errorMessage = error.message;
    alert('errorMessage');
  });


})

</script>
</html>